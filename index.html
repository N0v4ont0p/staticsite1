<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>George's Gallery</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="Apple-inspired gallery with GSAP scroll scenes and cinematic transitions.">
  <link
    rel="preload"
    href="https://fonts.gstatic.com/s/inter/v12/UcCO3Fwr9TTiCFxxik1f6k0o.ttf"
    as="font"
    type="font/woff2"
    crossorigin="anonymous"
  />
  <link rel="preload" href="logo.png" as="image" type="image/png" />
  <!-- Favicon -->
  <!-- your other favicon and manifest links -->

  <!-- Fonts CSS link -->
  <!-- Favicon -->
  <!-- Standard Favicon -->
  <!-- SVG for modern browsers -->
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <!-- Apple Touch Icon -->
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <!-- Web App Manifest -->
  <link rel="manifest" href="site.webmanifest">
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">

  <!-- ---- Language Toggle Styles ---- -->
  <style>
    /* [your existing code here] */

    /* ---- Language Toggle Styles ---- */
    .lang-toggle-container {
      position: fixed;
      top: 32px;
      right: 32px;
      z-index: 10000;
      user-select: none;
      font-family: 'Inter', 'SF Pro Display', 'Helvetica Neue', Arial, sans-serif;
      cursor: none;
    }
    .lang-toggle {
      display: flex;
      align-items: center;
      background: rgba(255,255,255,0.17);
      border-radius: 24px;
      box-shadow: 0 6px 36px 0 rgba(0,0,0,0.10), 0 1.5px 6px 0 #eaf1fd55;
      backdrop-filter: blur(18px) saturate(160%);
      -webkit-backdrop-filter: blur(18px) saturate(160%);
      border: 1.5px solid rgba(255,255,255,0.22);
      padding: 4px 8px;
      min-width: 90px;
      height: 46px;
      gap: 0.7em;
      transition: background 0.2s, border 0.2s;
    }
    .lang-toggle-btn {
      font-size: 1.06em;
      font-weight: 700;
      border: none;
      outline: none;
      background: none;
      color: #222;
      padding: 0.3em 1.0em;
      border-radius: 20px;
      transition: background 0.13s, color 0.13s;
      cursor: none;
      position: relative;
      z-index: 2;
    }
    .lang-toggle-btn.active {
      background: linear-gradient(90deg,#eaf1fd 0%, #d4eafd 100%);
      color: var(--accent);
      box-shadow: 0 2px 8px #eaf1fd66;
      font-weight: 900;
    }
    .lang-toggle-slider {
      position: absolute;
      top: 4px;
      left: 6px;
      width: calc(50% - 8px);
      height: 38px;
      background: rgba(255,255,255,0.55);
      border-radius: 18px;
      box-shadow: 0 2px 8px #eaf1fd22;
      transition: left 0.23s cubic-bezier(.45,1.65,.45,1), background 0.13s;
      z-index: 1;
      pointer-events: none;
    }
    .lang-toggle-btn.zh {
      /* Use a slightly different color for active in dark mode */
    }
    body.dark .lang-toggle {
      background: rgba(0,0,0,0.25);
      border-color: rgba(255,255,255,0.30);
    }
    body.dark .lang-toggle-btn.active {
      background: linear-gradient(90deg,#1b1f27 0%, #0d1117 100%);
      color: #4ea8ff;
      box-shadow: 0 2px 8px #222c44cc;
    }
    body.dark .lang-toggle-slider {
      background: rgba(32,36,44,0.64);
    }
    .lang-toggle-btn:focus-visible {
      outline: 2px solid var(--accent2);
    }
    .lang-toggle-btn {
      cursor: none !important;
    }
    .lang-toggle {
      cursor: none !important;
    }
    /* Custom cursor hover for toggle */
    .lang-toggle-btn:hover, .lang-toggle-btn.active {
      filter: brightness(1.15);
    }
    /* On mobile, shrink and move down a bit */
    @media (max-width: 600px) {
      .lang-toggle-container {
        top: 14px;
        right: 10px;
        transform: scale(0.92);
      }
    }
    /* [your existing code here] */
  </style>
  <!-- [your existing code here] -->
</head>
<body>
  <!-- Language Toggle -->
  <div class="lang-toggle-container">
    <div class="lang-toggle" style="position:relative;">
      <div class="lang-toggle-slider"></div>
      <button class="lang-toggle-btn en active" type="button" tabindex="0">EN</button>
      <button class="lang-toggle-btn zh" type="button" tabindex="0">ä¸­æ–‡</button>
    </div>
  </div>
  <!-- [your existing code here] -->
 <div class="custom-cursor"></div>
  <!-- APPLE STYLE SCENES -->
 <main>
  <section class="scene scene-hero">
    <div class="hero-content">
    <span class="hero-icon" style="margin-bottom: 0.5rem;">
    <img src="logo.png" alt="Logo" style="height: 260px; width: auto; margin-bottom: 0;" /> </span>
      <div class="hero-title">George's Gallery</div>
      <!-- ğŸŒ— Dark Mode Toggle Button -->
      <div class="hero-sub">A place for your memories.<br>Secure, beautiful, and permanent.<br>Fast, global, and effortless.</div>
      <div class="hero-cta-group">
        <a class="hero-cta" href="https://render23-efgc.onrender.com" target="_blank" rel="noopener">Explore Gallery</a>
        <a class="hero-cta source" href="https://github.com/N0v4ont0p/render23" target="_blank" rel="noopener">Source Code</a>
      </div>
      <div class="hero-badges">
        <span class="badge">â˜ï¸ Cloud Storage</span>
        <span class="badge">ğŸ” Secure Admin</span>
        <span class="badge">ğŸ–¼ï¸ Stunning UI</span>
        <span class="badge">ğŸ›¡ï¸ Bulletproof</span>
        <span class="badge">ğŸŒ Global</span>
        <span class="badge">ğŸ’¸ Free Tier</span>
       </div> 
    </div>
  </section>
  <section class="scene scene-features">
    <div class="scene-title">Experience the Features</div>
    <div class="features-grid">
      <div class="feature-card">
        <span class="feature-emoji">ğŸ¨</span>
        <div class="feature-title">Visual Perfection</div>
        <div class="feature-desc">Minimal, contemporary grid. Edge-to-edge images, soft gradients, and interactive microinteractions make every photo pop.</div>
      </div>
      <div class="feature-card">
        <span class="feature-emoji">â˜ï¸</span>
        <div class="feature-title">Permanent Cloud Storage</div>
        <div class="feature-desc">Photos are safe from server restarts and redeployments, stored on Cloudinary with CDN for global speed. 25GB free.</div>
      </div>
      <div class="feature-card">
        <span class="feature-emoji">ğŸ”</span>
        <div class="feature-title">Secure Admin</div>
        <div class="feature-desc">Password-protected panel at <b>/admin</b> lets you upload, batch manage, and delete photos with instant feedback. Password: <b>Hanshow99@</b></div>
      </div>
      <div class="feature-card">
        <span class="feature-emoji">ğŸ›¡ï¸</span>
        <div class="feature-title">Bulletproof Reliability</div>
        <div class="feature-desc">Fallback mechanisms and metadata backup mean your gallery never loses data. Admin-only controls keep things safe.</div>
      </div>
      <div class="feature-card">
        <span class="feature-emoji">ğŸ’¸</span>
        <div class="feature-title">Free Tier Limits</div>
        <div class="feature-desc">Render: 750 hours/month, sleeps after 15 mins idle. Cloudinary: 25GB/month, global CDN. Always free for personal galleries.</div>
      </div>
    </div>
  </section>
  <section class="scene scene-howto">
    <div class="scene-title">How To Use</div>
    <div class="howto-grid">
      <div class="howto-card">
        <span class="howto-emoji">ğŸŒ</span>
        <div class="howto-title">Public Gallery</div>
        <div class="howto-desc">
          <b>1.</b> Browse all photos in a stunning grid.<br>
          <b>2.</b> Click any image for a full-screen modal.<br>
          <b>3.</b> Download with one click.
        </div>
      </div>
      <div class="howto-card">
        <span class="howto-emoji">ğŸ”‘</span>
        <div class="howto-title">Admin Panel</div>
        <div class="howto-desc">
          <b>1.</b> Go to <b>/admin</b><br>
          <b>3.</b> Drag & drop upload, batch support<br>
          <b>4.</b> Delete by hover & click
        </div>
      </div>
    </div>
  </section>
  <section class="scene scene-tech">
    <div class="scene-title">The Tech Behind It</div>
    <div class="tech-grid">
      <div class="tech-card">
        <span class="tech-emoji">ğŸ’»</span>
        <div class="tech-title">Frontend</div>
        <div class="tech-desc">
          âš¡ <b>React.js SPA</b><br>
          ğŸ–¼ï¸ CSS Grid & Modal Viewer<br>
          ğŸ”’ Admin login system
        </div>
      </div>
      <div class="tech-card">
        <span class="tech-emoji">ğŸ–¥ï¸</span>
        <div class="tech-title">Backend</div>
        <div class="tech-desc">
          ğŸ <b>Flask API</b><br>
          ğŸŒ CORS enabled<br>
          â˜ï¸ Cloudinary SDK
        </div>
      </div>
      <div class="tech-card">
        <span class="tech-emoji">ğŸ—‚ï¸</span>
        <div class="tech-title">Storage System</div>
        <div class="tech-desc">
          Cloudinary: Fast, secure<br>
          Base64 fallback<br>
          JSON metadata backup
        </div>
      </div>
    </div>
  </section>
  <section class="scene scene-contact">
    <div class="scene-title">Contact & Safety</div>
    <div class="contact-content">
      <span style="font-size:3em; color:var(--accent2); margin-bottom:.3em;">âœ…</span>
      <div class="contact-title">Your photos are safe. Forever.</div>
      <div class="contact-sub">
        Beautiful. Modern. Fast. Secure.<br>
        <strong>100% free to run</strong>
      </div>
      <div class="contact-details">
        <strong>Contact:</strong> georgehu67@gmail.com<br>
      </div>
    </div>
  </section>
 </main>  
  <footer class="footer">
    <div>&copy; 2025 Georgeâ€™s Gallery</div>
    <div>Sitemap &bull; Privacy Policy &bull; Terms</div>
  </footer>
  <button id="darkToggle">ğŸŒ™ Dark</button>
  <!-- [your existing code here] -->
  <script>
    // ---- Language Toggle Logic ----
    const translations = {
      en: {
        "hero-title": "George's Gallery",
        "hero-sub": "A place for your memories.<br>Secure, beautiful, and permanent.<br>Fast, global, and effortless.",
        "hero-cta-0": "Explore Gallery",
        "hero-cta-1": "Source Code",
        "badge-0": "â˜ï¸ Cloud Storage",
        "badge-1": "ğŸ” Secure Admin",
        "badge-2": "ğŸ–¼ï¸ Stunning UI",
        "badge-3": "ğŸ›¡ï¸ Bulletproof",
        "badge-4": "ğŸŒ Global",
        "badge-5": "ğŸ’¸ Free Tier",
        "scene-features-title": "Experience the Features",
        "feature-title-0": "Visual Perfection",
        "feature-desc-0": "Minimal, contemporary grid. Edge-to-edge images, soft gradients, and interactive microinteractions make every photo pop.",
        "feature-title-1": "Permanent Cloud Storage",
        "feature-desc-1": "Photos are safe from server restarts and redeployments, stored on Cloudinary with CDN for global speed. 25GB free.",
        "feature-title-2": "Secure Admin",
        "feature-desc-2": "Password-protected panel at <b>/admin</b> lets you upload, batch manage, and delete photos with instant feedback. Password: <b>Hanshow99@</b>",
        "feature-title-3": "Bulletproof Reliability",
        "feature-desc-3": "Fallback mechanisms and metadata backup mean your gallery never loses data. Admin-only controls keep things safe.",
        "feature-title-4": "Free Tier Limits",
        "feature-desc-4": "Render: 750 hours/month, sleeps after 15 mins idle. Cloudinary: 25GB/month, global CDN. Always free for personal galleries.",
        "scene-howto-title": "How To Use",
        "howto-title-0": "Public Gallery",
        "howto-desc-0": "<b>1.</b> Browse all photos in a stunning grid.<br><b>2.</b> Click any image for a full-screen modal.<br><b>3.</b> Download with one click.",
        "howto-title-1": "Admin Panel",
        "howto-desc-1": "<b>1.</b> Go to <b>/admin</b><br><b>3.</b> Drag & drop upload, batch support<br><b>4.</b> Delete by hover & click",
        "scene-tech-title": "The Tech Behind It",
        "tech-title-0": "Frontend",
        "tech-desc-0": "âš¡ <b>React.js SPA</b><br>ğŸ–¼ï¸ CSS Grid & Modal Viewer<br>ğŸ”’ Admin login system",
        "tech-title-1": "Backend",
        "tech-desc-1": "ğŸ <b>Flask API</b><br>ğŸŒ CORS enabled<br>â˜ï¸ Cloudinary SDK",
        "tech-title-2": "Storage System",
        "tech-desc-2": "Cloudinary: Fast, secure<br>Base64 fallback<br>JSON metadata backup",
        "scene-contact-title": "Contact & Safety",
        "contact-title": "Your photos are safe. Forever.",
        "contact-sub": "Beautiful. Modern. Fast. Secure.<br><strong>100% free to run</strong>",
        "contact-details": "<strong>Contact:</strong> georgehu67@gmail.com<br>",
        "footer-0": "&copy; 2025 Georgeâ€™s Gallery",
        "footer-1": "Sitemap &bull; Privacy Policy &bull; Terms"
      },
      zh: {
        "hero-title": "ä¹”æ²»çš„ç”»å»Š",
        "hero-sub": "ä¸€ä¸ªå±äºä½ å›å¿†çš„åœ°æ–¹ã€‚<br>å®‰å…¨ï¼Œç¾è§‚ï¼Œæ°¸ä¹…ã€‚<br>å¿«é€Ÿï¼Œå…¨çƒï¼Œæ¯«ä¸è´¹åŠ›ã€‚",
        "hero-cta-0": "æµè§ˆç”»å»Š",
        "hero-cta-1": "æºä»£ç ",
        "badge-0": "â˜ï¸ äº‘å­˜å‚¨",
        "badge-1": "ğŸ” å®‰å…¨ç®¡ç†å‘˜",
        "badge-2": "ğŸ–¼ï¸ æè‡´ç•Œé¢",
        "badge-3": "ğŸ›¡ï¸ ç¨³å®šå¯é ",
        "badge-4": "ğŸŒ å…¨çƒäº’è”",
        "badge-5": "ğŸ’¸ å…è´¹é¢åº¦",
        "scene-features-title": "åŠŸèƒ½äº®ç‚¹",
        "feature-title-0": "æè‡´è§†è§‰",
        "feature-desc-0": "æç®€ã€ç°ä»£ç½‘æ ¼ã€‚å…¨å±å›¾ç‰‡ã€æŸ”å’Œæ¸å˜å’Œå¾®äº¤äº’è®©æ¯å¼ ç…§ç‰‡æ›´å‡ºå½©ã€‚",
        "feature-title-1": "æ°¸ä¹…äº‘å­˜å‚¨",
        "feature-desc-1": "ç…§ç‰‡å®‰å…¨å­˜å‚¨äºCloudinaryï¼ŒCDNå…¨çƒåŠ é€Ÿï¼Œé‡å¯å’Œéƒ¨ç½²éƒ½ä¸ä¼šä¸¢å¤±ï¼Œ25GBå…è´¹ç©ºé—´ã€‚",
        "feature-title-2": "å®‰å…¨ç®¡ç†å‘˜",
        "feature-desc-2": "å—å¯†ç ä¿æŠ¤çš„<b>/admin</b>é¢æ¿ï¼Œä¸Šä¼ ã€æ‰¹é‡ç®¡ç†å’Œåˆ é™¤ç…§ç‰‡ï¼Œæ“ä½œå³æ—¶åé¦ˆã€‚å¯†ç ï¼š<b>Hanshow99@</b>",
        "feature-title-3": "ç¨³å®šå¯é ",
        "feature-desc-3": "å¤šé‡å¤‡ä»½æœºåˆ¶å’Œå…ƒæ•°æ®ä¿éšœç”»å»Šæ•°æ®ä¸ä¸¢å¤±ï¼Œä»…ç®¡ç†å‘˜å¯æ“ä½œï¼Œå®‰å…¨æ— å¿§ã€‚",
        "feature-title-4": "å…è´¹é¢åº¦",
        "feature-desc-4": "Renderï¼šæ¯æœˆ750å°æ—¶ï¼Œ15åˆ†é’Ÿæ— æ“ä½œè‡ªåŠ¨ä¼‘çœ ã€‚Cloudinaryï¼š25GB/æœˆï¼Œå…¨çƒCDNã€‚ä¸ªäººç”»å»Šæ°¸ä¹…å…è´¹ã€‚",
        "scene-howto-title": "ä½¿ç”¨æ–¹æ³•",
        "howto-title-0": "å…¬å¼€ç”»å»Š",
        "howto-desc-0": "<b>1.</b> ç½‘æ ¼æµè§ˆæ‰€æœ‰ç…§ç‰‡ã€‚<br><b>2.</b> ç‚¹å‡»å›¾ç‰‡å…¨å±é¢„è§ˆã€‚<br><b>3.</b> ä¸€é”®ä¸‹è½½ã€‚",
        "howto-title-1": "ç®¡ç†å‘˜é¢æ¿",
        "howto-desc-1": "<b>1.</b> è®¿é—®<b>/admin</b><br><b>3.</b> æ‹–æ‹½ä¸Šä¼ ï¼Œæ”¯æŒæ‰¹é‡<br><b>4.</b> æ‚¬åœç‚¹å‡»åˆ é™¤",
        "scene-tech-title": "æŠ€æœ¯å®ç°",
        "tech-title-0": "å‰ç«¯",
        "tech-desc-0": "âš¡ <b>React.js SPA</b><br>ğŸ–¼ï¸ CSS ç½‘æ ¼ä¸å¼¹çª—é¢„è§ˆ<br>ğŸ”’ ç®¡ç†å‘˜ç™»å½•ç³»ç»Ÿ",
        "tech-title-1": "åç«¯",
        "tech-desc-1": "ğŸ <b>Flask API</b><br>ğŸŒ CORSæ”¯æŒ<br>â˜ï¸ Cloudinary SDK",
        "tech-title-2": "å­˜å‚¨ç³»ç»Ÿ",
        "tech-desc-2": "Cloudinaryï¼šé«˜æ•ˆå®‰å…¨<br>Base64å…œåº•<br>JSONå…ƒæ•°æ®å¤‡ä»½",
        "scene-contact-title": "è”ç³»ä¸å®‰å…¨",
        "contact-title": "ä½ çš„ç…§ç‰‡ï¼Œæ°¸ä¹…å®‰å…¨ã€‚",
        "contact-sub": "ç¾è§‚ã€‚ç°ä»£ã€‚å¿«é€Ÿã€‚å®‰å…¨ã€‚<br><strong>æ°¸ä¹…å…è´¹è¿è¡Œ</strong>",
        "contact-details": "<strong>è”ç³»ï¼š</strong>georgehu67@gmail.com<br>",
        "footer-0": "&copy; 2025 ä¹”æ²»çš„ç”»å»Š",
        "footer-1": "ç½‘ç«™åœ°å›¾ &bull; éšç§æ”¿ç­– &bull; æ¡æ¬¾"
      }
    };
    const langMap = [
      { sel: ".hero-title", key: "hero-title" },
      { sel: ".hero-sub", key: "hero-sub" },
      { sel: ".hero-cta-group a.hero-cta", key: "hero-cta-0", idx: 0 },
      { sel: ".hero-cta-group a.hero-cta.source", key: "hero-cta-1", idx: 1 },
      { sel: ".hero-badges .badge", key: "badge-0", idx: 0 },
      { sel: ".hero-badges .badge", key: "badge-1", idx: 1 },
      { sel: ".hero-badges .badge", key: "badge-2", idx: 2 },
      { sel: ".hero-badges .badge", key: "badge-3", idx: 3 },
      { sel: ".hero-badges .badge", key: "badge-4", idx: 4 },
      { sel: ".hero-badges .badge", key: "badge-5", idx: 5 },
      { sel: ".scene-features .scene-title", key: "scene-features-title" },
      { sel: ".features-grid .feature-card .feature-title", key: "feature-title-0", idx: 0 },
      { sel: ".features-grid .feature-card .feature-title", key: "feature-title-1", idx: 1 },
      { sel: ".features-grid .feature-card .feature-title", key: "feature-title-2", idx: 2 },
      { sel: ".features-grid .feature-card .feature-title", key: "feature-title-3", idx: 3 },
      { sel: ".features-grid .feature-card .feature-title", key: "feature-title-4", idx: 4 },
      { sel: ".features-grid .feature-card .feature-desc", key: "feature-desc-0", idx: 0 },
      { sel: ".features-grid .feature-card .feature-desc", key: "feature-desc-1", idx: 1 },
      { sel: ".features-grid .feature-card .feature-desc", key: "feature-desc-2", idx: 2 },
      { sel: ".features-grid .feature-card .feature-desc", key: "feature-desc-3", idx: 3 },
      { sel: ".features-grid .feature-card .feature-desc", key: "feature-desc-4", idx: 4 },
      { sel: ".scene-howto .scene-title", key: "scene-howto-title" },
      { sel: ".howto-grid .howto-card .howto-title", key: "howto-title-0", idx: 0 },
      { sel: ".howto-grid .howto-card .howto-title", key: "howto-title-1", idx: 1 },
      { sel: ".howto-grid .howto-card .howto-desc", key: "howto-desc-0", idx: 0 },
      { sel: ".howto-grid .howto-card .howto-desc", key: "howto-desc-1", idx: 1 },
      { sel: ".scene-tech .scene-title", key: "scene-tech-title" },
      { sel: ".tech-grid .tech-card .tech-title", key: "tech-title-0", idx: 0 },
      { sel: ".tech-grid .tech-card .tech-title", key: "tech-title-1", idx: 1 },
      { sel: ".tech-grid .tech-card .tech-title", key: "tech-title-2", idx: 2 },
      { sel: ".tech-grid .tech-card .tech-desc", key: "tech-desc-0", idx: 0 },
      { sel: ".tech-grid .tech-card .tech-desc", key: "tech-desc-1", idx: 1 },
      { sel: ".tech-grid .tech-card .tech-desc", key: "tech-desc-2", idx: 2 },
      { sel: ".scene-contact .scene-title", key: "scene-contact-title" },
      { sel: ".contact-title", key: "contact-title" },
      { sel: ".contact-sub", key: "contact-sub" },
      { sel: ".contact-details", key: "contact-details" },
      { sel: ".footer > div:nth-child(1)", key: "footer-0" },
      { sel: ".footer > div:nth-child(2)", key: "footer-1" }
    ];
    function setLanguage(lang, save = true) {
      lang = (lang === "zh") ? "zh" : "en";
      langMap.forEach(map => {
        let el = document.querySelectorAll(map.sel);
        if (el && el.length) {
          if (typeof map.idx === "number") {
            if (el[map.idx]) el[map.idx].innerHTML = translations[lang][map.key];
          } else {
            el[0].innerHTML = translations[lang][map.key];
          }
        }
      });
      // Set button state
      document.querySelector('.lang-toggle-btn.en').classList.toggle('active', lang === "en");
      document.querySelector('.lang-toggle-btn.zh').classList.toggle('active', lang === "zh");
      // Move slider
      const slider = document.querySelector('.lang-toggle-slider');
      if (lang === "en") slider.style.left = "6px";
      else slider.style.left = "calc(50% + 2px)";
      // Save in localStorage
      if (save) localStorage.setItem("gallery-lang", lang);
      // Set html lang for SEO
      document.documentElement.lang = (lang === "zh" ? "zh-Hans" : "en");
    }
    document.querySelector('.lang-toggle-btn.en').addEventListener('click', () => setLanguage('en'));
    document.querySelector('.lang-toggle-btn.zh').addEventListener('click', () => setLanguage('zh'));
    // Make toggle respond to custom cursor hover
    const langBtns = document.querySelectorAll('.lang-toggle-btn');
    const customCursor = document.querySelector('.custom-cursor');
    langBtns.forEach(btn => {
      btn.addEventListener('mouseenter', () => customCursor.classList.add('hovered'));
      btn.addEventListener('mouseleave', () => customCursor.classList.remove('hovered'));
    });
    document.querySelector('.lang-toggle').addEventListener('mouseenter', () => customCursor.classList.add('hovered'));
    document.querySelector('.lang-toggle').addEventListener('mouseleave', () => customCursor.classList.remove('hovered'));
    function guessLang() {
      const preferred = (navigator.language || navigator.userLanguage || "").toLowerCase();
      if (preferred.startsWith("zh")) return "zh";
      return "en";
    }
    let initLang = localStorage.getItem("gallery-lang") || guessLang();
    setLanguage(initLang, false);
    // ---- End Language Toggle ----

    // [your existing code here]
    document.addEventListener('DOMContentLoaded', () => {
    // Check if the device supports touch events
      const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;

    // If it's a touch device, disable the custom cursor
      if (isTouchDevice) {
        document.body.classList.add('touch-device'); // Add class to indicate it's a touch device
      } else {
        document.body.classList.add('non-touch-device');
      }

    // Add styles to hide the custom cursor on touch devices
      const style = document.createElement('style');
      style.innerHTML = `
        body.touch-device .custom-cursor {
          display: none; /* Hides the custom cursor on touch devices */
        }
      `;
      document.head.appendChild(style);
    });

    document.addEventListener('contextmenu', (e) => {
      e.preventDefault();  // Disable right-click context menu
    });

    gsap.registerPlugin(ScrollTrigger);

    // HERO: animate on scroll into view (not too early, not too late)
    gsap.from(".scene-hero .hero-content > *", {
      opacity: 0,
      y: 40,
      duration: 1,
      ease: "power2.out",
      stagger: 0.13,
      scrollTrigger: {
        trigger: ".scene-hero .hero-content",
        start: "top 80%",
        end: "bottom center",
        toggleActions: "play reverse play reverse"
      }
    });

    // All scene headings: fade/slide in, but always stay visible
    gsap.utils.toArray(".scene-title").forEach(title => {
      gsap.from(title, {
        opacity: 0,
        y: 32,
        duration: 0.7,
        ease: "power2.out",
        scrollTrigger: {
          trigger: title,
          start: "top 80%",
          end: "bottom center",
          toggleActions: "play reverse play reverse"
        }
      });
    });

    // Features: fade/slide in
    gsap.from(".features-grid .feature-card", {
      opacity: 0,
      y: 40,
      duration: 0.7,
      stagger: 0.12,
      ease: "power2.out",
      scrollTrigger: {
        trigger: ".features-grid",
        start: "top 80%",
        end: "bottom center",
        toggleActions: "play reverse play reverse"
      }
    });

    // Howto: fade/slide in
    gsap.from(".howto-grid .howto-card", {
      opacity: 0,
      y: 40,
      duration: 0.7,
      stagger: 0.18,
      ease: "power2.out",
      scrollTrigger: {
        trigger: ".howto-grid",
        start: "top 80%",
        end: "bottom center",
        toggleActions: "play reverse play reverse"
      }
    });

    // Tech: fade/slide in
    gsap.from(".tech-grid .tech-card", {
      opacity: 0,
      y: 40,
      duration: 0.7,
      stagger: 0.18,
      ease: "power2.out",
      scrollTrigger: {
        trigger: ".tech-grid",
        start: "top 80%",
        end: "bottom center",
        toggleActions: "play reverse play reverse"
      }
    });

    // Contact: fade/slide in
    gsap.from(".scene-contact .contact-content > *", {
      opacity: 0,
      y: 20,
      duration: 0.7,
      stagger: 0.13,
      ease: "power2.out",
      scrollTrigger: {
        trigger: ".scene-contact .contact-content",
        start: "top 80%",
        end: "bottom center",
        toggleActions: "play reverse play reverse"
      }
    });

    // Footer: fade in
    gsap.from(".footer", {
      opacity: 0,
      y: 60,
      duration: 1,
      ease: "power2.out",
      scrollTrigger: {
        trigger: ".footer",
        start: "top 99%",
        toggleActions: "play reverse play reverse"
      }
    });
// ğŸŒ™ Auto Detect System Preference on First Visit
    const toggleButton = document.getElementById('darkToggle');

// First time? Check system preference
    if (localStorage.getItem('darkMode') === null) {
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      if (prefersDark) {
        document.body.classList.add('dark');
        localStorage.setItem('darkMode', true);
      } else {
        localStorage.setItem('darkMode', false);
      }
    }

// Apply saved preference
    if (localStorage.getItem('darkMode') === 'true') {
      document.body.classList.add('dark');
      toggleButton.textContent = 'â˜€ï¸ Light';
    } else {
      document.body.classList.add('light');
      toggleButton.textContent = 'ğŸŒ™ Dark';
    }

// Toggle listener
    toggleButton.addEventListener('click', () => {
      const isDark = document.body.classList.toggle('dark');
      toggleButton.textContent = isDark ? 'â˜€ï¸ Light' : 'ğŸŒ™ Dark';
      localStorage.setItem('darkMode', isDark);
    });


    function setVh() {
  // Get 1% of the window inner height
      let vh = window.innerHeight * 0.01;
  // Set the value in the --vh custom property on the root of the document
      document.documentElement.style.setProperty('--vh', `${vh}px`);
    }
// Run at start
    setVh();
// Update on resize (when screen orientation changes or browser UI shows/hides)
    window.addEventListener('resize', setVh);
    
    const cursor = document.querySelector('.custom-cursor');

    let mouseX = 0;
    let mouseY = 0;

    document.addEventListener('mousemove', (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;
      cursor.style.left = `${mouseX}px`;
      cursor.style.top = `${mouseY}px`;
    });

    document.addEventListener('mouseleave', () => {
      cursor.style.display = 'none';  // Hide cursor when mouse leaves the page
    });

    document.addEventListener('mouseenter', () => {
      cursor.style.display = 'block';  // Show cursor when mouse re-enters the page
    });

    document.addEventListener('blur', () => {
     cursor.style.display = 'none';  // Hide cursor when window loses focus
    });

    document.addEventListener('focus', () => {
      cursor.style.display = 'block';  // Show cursor when window gains focus
    });

      const interactiveElements = document.querySelectorAll('button, a, input, label');

      interactiveElements.forEach(el => {
        el.addEventListener('mouseenter', () => {
          cursor.classList.add('hovered');  // Adds hovered class
        });

        el.addEventListener('mouseleave', () => {
          cursor.classList.remove('hovered');  // Removes hovered class
        });
      });
    // Detect system color scheme preference
    document.addEventListener('DOMContentLoaded', () => {
      const prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;

  // Apply the corresponding theme class
      if (prefersDarkMode) {
        document.body.classList.add('dark');
        document.body.classList.remove('light');
      } else {
        document.body.classList.add('light');
        document.body.classList.remove('dark');
      }
    });

    document.addEventListener('DOMContentLoaded', () => {
  // Get your custom cursor element by its class or ID
      const cursor = document.querySelector('.custom-cursor');

  // Set initial position to center of screen
      let mouseX = window.innerWidth / 2;
      let mouseY = window.innerHeight / 2;

      cursor.style.left = `${mouseX}px`;
      cursor.style.top = `${mouseY}px`;

  // Update cursor position on mouse move
      document.addEventListener('mousemove', (e) => {
        mouseX = e.clientX;
        mouseY = e.clientY;
        cursor.style.left = `${mouseX}px`;
        cursor.style.top = `${mouseY}px`;
      });
    });
  </script>
</body>
</html>
